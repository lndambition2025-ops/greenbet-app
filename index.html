<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GreenBet Pro - 5 Grands Championnats</title>
    <style>
        :root { --primary: #27ae60; --bg: #f0f2f5; --text: #1a1a1a; }
        body { background: var(--bg); color: var(--text); font-family: -apple-system, sans-serif; margin: 0; padding-bottom: 50px; }
        header { background: #fff; padding: 20px; text-align: center; border-bottom: 2px solid var(--primary); sticky; top:0; z-index:100; }
        
        .container { padding: 15px; max-width: 800px; margin: auto; }
        
        .league-section { margin-top: 25px; }
        .league-header { 
            background: #2c3e50; color: white; padding: 10px 15px; 
            border-radius: 8px; font-weight: bold; font-size: 0.85rem;
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 10px;
        }

        .match-card { 
            background: white; border-radius: 12px; padding: 18px; margin-bottom: 12px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); border: 1px solid #eef0f2;
        }
        .teams { display: flex; justify-content: space-between; align-items: center; font-weight: 800; font-size: 1rem; }
        .vs { color: #bdc3c7; font-size: 0.7rem; }

        .prediction-box { 
            background: #fafffd; border: 1px solid #dcfce7; border-radius: 10px; 
            padding: 12px; margin-top: 15px; display: flex; justify-content: space-between; align-items: center;
        }
        .tip-tag { background: var(--primary); color: white; padding: 4px 10px; border-radius: 6px; font-weight: bold; font-size: 0.9rem; }
        .confiance { font-size: 0.8rem; font-weight: bold; color: #27ae60; }

        .no-match { text-align: center; padding: 30px; color: #95a5a6; background: white; border-radius: 10px; }
        .filter-nav { display: flex; gap: 10px; overflow-x: auto; padding: 10px 15px; background: white; border-bottom: 1px solid #ddd; }
        .filter-pill { background: #eee; padding: 6px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: bold; white-space: nowrap; cursor: pointer; }
        .filter-pill.active { background: var(--primary); color: white; }
    </style>
</head>
<body>

    <header>
        <div style="font-size: 1.4rem; font-weight: 900; color: var(--primary);">GREENBET ELITE âš½</div>
        <div style="font-size: 0.7rem; color: #7f8c8d; font-weight: bold; margin-top: 5px;">LIVE DATA : 5 GRANDS CHAMPIONNATS</div>
    </header>

    <div class="filter-nav">
        <div class="filter-pill active" onclick="setMarket('WIN')">ðŸ’° RÃ©sultat</div>
        <div class="filter-pill" onclick="setMarket('GOALS')">âš½ Buts +2.5</div>
        <div class="filter-pill" onclick="setMarket('BTTS')">ðŸ”¥ Les 2 marquent</div>
    </div>

    <div class="container" id="main-content">
        <div style="text-align:center; padding:50px;">Connexion aux serveurs sportifs...</div>
    </div>

    <script>
        const API_KEY = '8997f37435f3484f885f00e57204481c'; 
        let market = 'WIN';
        let store = {};

        async function init() {
            // Liste des codes officiels des 5 grands championnats
            const leagues = ['FL1', 'PL', 'PD', 'SA', 'BL1'];
            const content = document.getElementById('main-content');
            content.innerHTML = '';
            
            for (const code of leagues) {
                try {
                    const res = await fetch(`https://api.football-data.org/v4/competitions/${code}/matches?status=SCHEDULED`, {
                        headers: { 'X-Auth-Token': API_KEY }
                    });
                    const data = await res.json();
                    if (data.matches && data.matches.length > 0) {
                        store[data.competition.name] = data.matches;
                    }
                } catch (e) { console.error("Erreur ligue " + code); }
            }
            render();
        }

        function setMarket(m) {
            market = m;
            document.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
            event.target.classList.add('active');
            render();
        }

        function render() {
            const content = document.getElementById('main-content');
            if (Object.keys(store).length === 0) {
                content.innerHTML = '<div class="no-match">Aucun match prÃ©vu aujourdhui dans les 5 grands championnats.</div>';
                return;
            }

            content.innerHTML = '';
            for (const league in store) {
                let html = `<div class="league-section">
                    <div class="league-header"><span>${league.toUpperCase()}</span> <span>${store[league].length} MATCHS</span></div>`;
                
                store[league].forEach(m => {
                    const p = getAlgo(m);
                    html += `
                        <div class="match-card">
                            <div class="teams">
                                <span>${m.homeTeam.shortName || m.homeTeam.name}</span>
                                <span class="vs">VS</span>
                                <span>${m.awayTeam.shortName || m.awayTeam.name}</span>
                            </div>
                            <div class="prediction-box">
                                <div style="display:flex; flex-direction:column">
                                    <span style="font-size:0.6rem; color:#7f8c8d; font-weight:bold; margin-bottom:3px;">PRONOSTIC</span>
                                    <span class="tip-tag">${p.tip}</span>
                                </div>
                                <div class="confiance">${p.conf}% <span style="font-size:0.6rem; display:block; color:#999; text-align:right">CONFIANCE</span></div>
                            </div>
                        </div>`;
                });
                html += `</div>`;
                content.innerHTML += html;
            }
        }

        function getAlgo(m) {
            const seed = m.id;
            if (market === 'WIN') {
                return { tip: (seed % 3 === 0) ? "NUL ou 2" : "VICOIRE 1", conf: 68 + (seed % 15) };
            } else if (market === 'GOALS') {
                return { tip: (seed % 2 === 0) ? "+ 2,5 BUTS" : "- 3,5 BUTS", conf: 62 + (seed % 12) };
            } else {
                return { tip: (seed % 5 > 2) ? "BTTS : OUI" : "BTTS : NON", conf: 55 + (seed % 20) };
            }
        }

        window.onload = init;
    </script>
</body>
</html>
